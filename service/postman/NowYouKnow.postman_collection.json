{
	"variables": [],
	"info": {
		"name": "NowYouKnow",
		"_postman_id": "028ce7ab-ca76-0410-4038-c7eb9190000a",
		"description": "Testing the Now You Know web application\n",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "1 HhgttgDemo",
			"description": "Demonstration of the current state of the project, with a Hitchhiker's Guide To The Galaxy theme!",
			"item": [
				{
					"name": "end of the universe",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "tests[\"Status code is 200\"] = responseCode.code === 200;"
							}
						}
					],
					"request": {
						"url": "{{host}}/end/of/the/universe",
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"description": "destroy everything."
					},
					"response": []
				},
				{
					"name": "First Question",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "var ok = tests[\"Status code is 200\"] = responseCode.code === 200;\n\nvar ID_KEY = \"q1_id\";\nif (ok) {\n    var id = postman.getResponseHeader(\"Location\").split(\"/\").pop();\n    postman.setEnvironmentVariable(ID_KEY, id);\n}\nelse {\n    postman.clearEnvironmentVariable(ID_KEY);\n}\n\n"
							}
						}
					],
					"request": {
						"url": "{{host}}/question/",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"text\": \"What is 6 times 7?\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "Question 1 Answer 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "tests[\"Status code is 200\"] = responseCode.code === 200;"
							}
						}
					],
					"request": {
						"url": "{{host}}/answer/",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"text\": \"42\",\n\t\"questionId\": {{q1_id}}\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "Question 1 Answer 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "tests[\"Status code is 200\"] = responseCode.code === 200;"
							}
						}
					],
					"request": {
						"url": "{{host}}/answer/",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"text\": \"The answer to life, the universe... everything!\",\n\t\"questionId\": {{q1_id}}\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "Get Answers to Question 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "tests[\"Status code is 200\"] = responseCode.code === 200;\n\nvar answers = JSON.parse(responseBody);\ntests[\"got 2 answers\"] = answers.length === 2;"
							}
						}
					],
					"request": {
						"url": "{{host}}/question/{{q1_id}}/answers",
						"method": "GET",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "Make HHGTTG Topic",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "var ok = tests[\"Status code is 200\"] = responseCode.code === 200;\n\nvar ID_KEY = \"hhgttg_id\";\nif (ok) {\n    var id = postman.getResponseHeader(\"Location\").split(\"/\").pop();\n    postman.setEnvironmentVariable(ID_KEY, id);\n}\nelse {\n    postman.clearEnvironmentVariable(ID_KEY);\n}"
							}
						}
					],
					"request": {
						"url": "{{host}}/topic/",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"name\": \"Hitchhiker's Guide To The Galaxy\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "Get the HHGTTG Topic",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "var ok = tests[\"Status code is 200\"] = responseCode.code === 200;\n\nif (ok) {\n    var topic = JSON.parse(responseBody);\n    tests[\"correct id\"] = topic.id == postman.getEnvironmentVariable(\"hhgttg_id\");\n}"
							}
						}
					],
					"request": {
						"url": "{{host}}/topic/{{hhgttg_id}}",
						"method": "GET",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "Second Question",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "var ok = tests[\"Status code is 200\"] = responseCode.code === 200;\n\nif (ok) {\n    var id = postman.getResponseHeader(\"Location\").split(\"/\").pop();\n    postman.setEnvironmentVariable(\"q2_id\", id);\n}\nelse {\n    postman.clearEnvironmentVariable(\"q2_id\");\n}"
							}
						}
					],
					"request": {
						"url": "{{host}}/question/",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"text\": \"Would it save you a lot of time if I just gave up and went mad now?\",\n\t\"topicId\": {{hhgttg_id}}\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "Get Question 2",
					"request": {
						"url": "{{host}}/question/{{q2_id}}",
						"method": "GET",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "Third Question",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "var ok = tests[\"Status code is 200\"] = responseCode.code === 200;\n\nif (ok) {\n    var id = postman.getResponseHeader(\"Location\").split(\"/\").pop();\n    postman.setEnvironmentVariable(\"q3_id\", id);\n}\nelse {\n    postman.clearEnvironmentVariable(\"q3_id\");\n}"
							}
						}
					],
					"request": {
						"url": "{{host}}/question/",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"text\": \"What is the answer to life, the universe... everything!?\",\n\t\"topicId\": {{hhgttg_id}}\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "Fourth Question",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "var ok = tests[\"Status code is 200\"] = responseCode.code === 200;\n\nif (ok) {\n    var id = postman.getResponseHeader(\"Location\").split(\"/\").pop();\n    postman.setEnvironmentVariable(\"q4_id\", id);\n}\nelse {\n    postman.clearEnvironmentVariable(\"q4_id\");\n}"
							}
						}
					],
					"request": {
						"url": "{{host}}/question/",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"text\": \"And what's happened to the Earth?\",\n\t\"topicId\": {{hhgttg_id}}\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "Question 4 Answer 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "tests[\"Status code is 200\"] = responseCode.code === 200;"
							}
						}
					],
					"request": {
						"url": "{{host}}/answer/",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"text\": \"Ah. It's been demolished.\",\n\t\"questionId\": {{q4_id}}\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "Get Answers to Question 4",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "tests[\"Status code is 200\"] = responseCode.code === 200;\n\nvar answers = JSON.parse(responseBody);\ntests[\"got 1 answer\"] = answers.length === 1;"
							}
						}
					],
					"request": {
						"url": "{{host}}/question/{{q4_id}}/answers",
						"method": "GET",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "Get all questions for HHGTTG",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "var ok = tests[\"Status code is 200\"] = responseCode.code === 200;\n\nif (ok) {\n    var questions = JSON.parse(responseBody);\n    tests[\"got 3 quetsions\"] = questions.length == 3;\n}"
							}
						}
					],
					"request": {
						"url": "{{host}}/topic/{{hhgttg_id}}/questions",
						"method": "GET",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"description": ""
					},
					"response": []
				}
			]
		}
	]
}